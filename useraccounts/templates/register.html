{% extends 'login.html' %}
{% block title %}Register{% endblock %}
{% block content %}

<form method="POST" action="{% url 'registeradmin' %}">
    {% csrf_token %}
    <h1 class="mt-3">Register</h1>
    <!-- Username Input -->
    <div class="mb-3 mt-3">
        <label for="exampleFormControlInput1" class="form-label">Username</label>
        <input name="username" type="text" class="form-control" id="username" required value={{username}}>
    </div>

    <!-- Email Input -->
    <div class="mb-3 mt-3">
        <label for="exampleFormControlInput1" class="form-label">Email address</label>
        <input name="email" type="email" class="form-control" id="email" placeholder="name@example.com" required value={{email}}>
    </div>

    <!-- Organisation Details -->
    <div class="mb-3 mt-3">
        <label for="exampleFormControlInput1" class="form-label">Organisation name</label>
        <input name="orgname" type="text" class="form-control" id="orgname" required value={{orgname}}>
    </div>

    <div class="mb-3 mt-3">
        <label for="exampleFormControlInput1" class="form-label">Address</label>
        <input name="address" type="textarea" class="form-control" id="address" required value={{address}}>
    </div>

    <div class="mb-3 mt-3">
        <label for="exampleFormControlInput1" class="form-label">Contact</label>
        <input name="contact" type="tel" class="form-control" id="contact" placeholder="91234567" required value={{contact}}>
    </div>

    <!-- Password Input -->
    <div class="mb-3 mt-3">
        <label for="inputPassword5" class="form-label">Password</label>
        <input name="pwd" type="password" id="pwd" class="form-control" aria-describedby="passwordHelpBlock" required>
    </div>
    
    <div class="mb-3 mt-3">
        <label for="inputPassword5" class="form-label">Confirm password</label>
        <input name="confirmpwd" type="password" id="confirmpwd" class="form-control" aria-describedby="passwordHelpBlock" required>
    </div>

    <button type="submit" class="btn btn-primary">Register</button>
</form>

<div class="mt-3">
{% if registererrors|length > 0 %}
{% for error in registererrors %}
<div class="alert alert-danger alert-dismissible" role="alert">
    <span type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></span>
    <strong>{{error}}</strong>
</div>
{% endfor %}
{% endif %}

{% if success %}
<div class="alert alert-success alert-dismissible" role="alert">
    <span type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></span>
    <strong>Registration successful!</strong> Click <a href="{% url 'loginpage' %}">here</a> to go back to login page.
</div>
</div>
{% endif %}

{% endblock %}